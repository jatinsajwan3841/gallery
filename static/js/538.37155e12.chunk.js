"use strict";(self.webpackChunkgallery=self.webpackChunkgallery||[]).push([[538],{538:function(e,r,a){a.r(r);var t=a(4165),n=a(5861),s=a(2791),i=a(3044),o=a(6151),l=a(4708),u=a(6940),m=a(533),c=a(1889),d=a(4554),h=a(890),p=a(9164),x=a(403),f=a(7689),g=a(1087),v=a(5705),Z=a(6727),b=a(1243),j=a(184);r.default=function(e){var r=e.handleLoading,a=(0,f.s0)(),y=Z.Ry({firstName:Z.Z_("Enter your first name").min(3,"must be at least 3 characters long").required("First name is required"),lastName:Z.Z_("Enter your last name").min(3,"must be at least 3 characters long").required("Last name is required"),username:Z.Z_("Enter your user name").min(3,"must be at least 3 characters long").required("User name is required").test("Unique username","Username already in use",function(){var e=(0,n.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.Z.get("https://dummyjson.com/users/search?q=".concat(r));case 3:if(!(e.sent.data.total>0)){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(r){return e.apply(this,arguments)}}()),email:Z.Z_("Enter your email").email("Enter a valid email").required("Email is required").test("Unique Email","Email already in use",function(){var e=(0,n.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.Z.get("https://dummyjson.com/users/search?q=".concat(r));case 3:if(!(e.sent.data.total>0)){e.next=6;break}return e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(r){return e.apply(this,arguments)}}()),password:Z.Z_("Enter your password").min(8,"Password should be of minimum 8 characters length").required("Password is required"),phone:Z.Z_().required("Phone number is required").matches(/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/,"Phone number is not valid").min(10,"too short").max(10,"too long")}),w={firstName:"",lastName:"",username:"",email:"",password:"",phone:""},N=(0,v.TA)({initialValues:w,validationSchema:y,onSubmit:function(){var e=(0,n.Z)((0,t.Z)().mark((function e(n){var s,i,o,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),r(),e.prev=2,s={headers:{"Content-Type":"application/json"}},i=JSON.stringify(n),e.next=7,b.Z.post("https://dummyjson.com/users/add",i,s);case 7:o=e.sent,l=o.data,console.log(l),r(),localStorage.clear("signup_vals"),a("/"),e.next=21;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0),alert(e.t0.response.data.message),r(),N.setSubmitting(!1);case 21:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(r){return e.apply(this,arguments)}}()});return s.useEffect((function(){localStorage.getItem("token")&&a("/");var e=JSON.parse(localStorage.getItem("signup_vals"));e&&N.setValues(e)}),[]),s.useEffect((function(){N.values!==w&&localStorage.setItem("signup_vals",JSON.stringify(N.values))}),[N.values]),(0,j.jsxs)(p.Z,{component:"main",maxWidth:"xs",children:[(0,j.jsx)(l.ZP,{}),(0,j.jsxs)(d.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,j.jsx)(i.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,j.jsx)(x.Z,{})}),(0,j.jsx)(h.Z,{component:"h1",variant:"h5",children:"Sign up"}),(0,j.jsxs)(d.Z,{component:"form",noValidate:!0,onSubmit:N.handleSubmit,sx:{mt:3},children:[(0,j.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,j.jsx)(c.ZP,{item:!0,xs:12,sm:6,children:(0,j.jsx)(u.Z,{autoComplete:"given-name",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,value:N.values.firstName,onChange:N.handleChange,error:N.touched.firstName&&N.errors.firstName,helperText:N.touched.firstName&&N.errors.firstName})}),(0,j.jsx)(c.ZP,{item:!0,xs:12,sm:6,children:(0,j.jsx)(u.Z,{required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"family-name",value:N.values.lastName,onChange:N.handleChange,error:N.touched.lastName&&N.errors.lastName,helperText:N.touched.lastName&&N.errors.lastName})}),(0,j.jsx)(c.ZP,{item:!0,xs:12,children:(0,j.jsx)(u.Z,{required:!0,fullWidth:!0,id:"username",label:"User Name",name:"username",autoComplete:"username",value:N.values.username,onChange:N.handleChange,error:N.errors.username,helperText:N.errors.username})}),(0,j.jsx)(c.ZP,{item:!0,xs:12,children:(0,j.jsx)(u.Z,{required:!0,fullWidth:!0,id:"email",label:"Email Address",type:"email",name:"email",autoComplete:"email",value:N.values.email,onChange:N.handleChange,error:N.errors.email,helperText:N.errors.email})}),(0,j.jsx)(c.ZP,{item:!0,xs:12,children:(0,j.jsx)(u.Z,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",value:N.values.password,onChange:N.handleChange,error:N.touched.password&&N.errors.password,helperText:N.touched.password&&N.errors.password})}),(0,j.jsx)(c.ZP,{item:!0,xs:12,children:(0,j.jsx)(u.Z,{required:!0,fullWidth:!0,name:"phone",label:"Phone",type:"number",id:"phone",autoComplete:"phone",value:N.values.phone,onChange:N.handleChange,error:N.touched.phone&&N.errors.phone,helperText:N.touched.phone&&N.errors.phone})})]}),(0,j.jsx)(o.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:N.isSubmitting,children:"Sign Up"}),(0,j.jsx)(c.ZP,{container:!0,justifyContent:"flex-end",children:(0,j.jsx)(c.ZP,{item:!0,children:(0,j.jsx)(g.rU,{to:"signin",children:(0,j.jsx)(m.Z,{variant:"body2",children:"Already have an account? Sign in"})})})})]})]})]})}}}]);
//# sourceMappingURL=538.37155e12.chunk.js.map